{% extends "base.html" %}
{% block content %}

<h1>Guess the Word</h1>

{% for g in guesses %}
<div>
    {% for i in range(g.word|length) %}
        <span style="display:inline-block; width:25px; height:25px; text-align:center; margin:2px;
                     background-color:{{ g.colors[i] }}; color:white; font-weight:bold;">
            {{ g.word[i] }}
        </span>
    {% endfor %}
</div>
{% endfor %}

{% if game_over %}
  <p>{{ popup_message }}</p>
  <a href="{{ url_for('player_dashboard') }}">Back to Dashboard</a>
{% endif %}


{% if not game_over %}
<form method="POST">
    <input type="text" name="guess" maxlength="5" style="text-transform: uppercase;" required>
    <button type="submit">Guess</button>
</form>
<a href="{{ url_for('pause_game') }}"><button type="button">Pause</button></a>
{% endif %}

{% if popup_message %}
<div id="gameOverModal" class="modal">
  <div class="modal-content">
    <p>{{ popup_message }}</p>
    <button onclick="window.location.href='{{ url_for('index') }}'">OK</button>
  </div>
</div>
<style>
.modal { display: flex; justify-content: center; align-items: center;
  position: fixed; z-index: 9999; left: 0; top: 0; width: 100%; height: 100%;
  background-color: rgba(0,0,0,0.5);}
.modal-content { background: white; padding: 20px; border-radius: 10px;
  text-align: center; font-size: 18px; max-width: 300px;}
.modal-content button { background-color: #4CAF50; color: white;
  padding: 8px 16px; margin-top: 10px; border: none; border-radius: 5px;
  cursor: pointer;}
</style>
<script>
  document.getElementById("gameOverModal").style.display = "flex";
</script>
{% endif %}
{% endblock %}
